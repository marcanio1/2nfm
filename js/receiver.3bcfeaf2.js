(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["receiver"],{"057f":function(e,t,n){var i=n("fc6a"),o=n("241c").f,a={}.toString,r="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return o(e)}catch(t){return r.slice()}};e.exports.f=function(e){return r&&"[object Window]"==a.call(e)?s(e):o(i(e))}},1148:function(e,t,n){"use strict";var i=n("a691"),o=n("1d80");e.exports="".repeat||function(e){var t=String(o(this)),n="",a=i(e);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(n+=t);return n}},"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"1a62":function(e,t,n){},"3ca3":function(e,t,n){"use strict";var i=n("6547").charAt,o=n("69f3"),a=n("7dd0"),r="String Iterator",s=o.set,c=o.getterFor(r);a(String,"String",(function(e){s(this,{type:r,string:String(e),index:0})}),(function(){var e,t=c(this),n=t.string,o=t.index;return o>=n.length?{value:void 0,done:!0}:(e=i(n,o),t.index+=e.length,{value:e,done:!1})}))},"408a":function(e,t,n){var i=n("c6b6");e.exports=function(e){if("number"!=typeof e&&"Number"!=i(e))throw TypeError("Incorrect invocation");return+e}},"746f":function(e,t,n){var i=n("428f"),o=n("5135"),a=n("e538"),r=n("9bf2").f;e.exports=function(e){var t=i.Symbol||(i.Symbol={});o(t,e)||r(t,e,{value:a.f(e)})}},"841c":function(e,t,n){"use strict";var i=n("d784"),o=n("825a"),a=n("1d80"),r=n("129f"),s=n("14c3");i("search",1,(function(e,t,n){return[function(t){var n=a(this),i=void 0==t?void 0:t[e];return void 0!==i?i.call(t,n):new RegExp(t)[e](String(n))},function(e){var i=n(t,e,this);if(i.done)return i.value;var a=o(e),c=String(this),d=a.lastIndex;r(d,0)||(a.lastIndex=0);var l=s(a,c);return r(a.lastIndex,d)||(a.lastIndex=d),null===l?-1:l.index}]}))},"88f6":function(e,t,n){"use strict";var i=n("1a62"),o=n.n(i);o.a},a4d3:function(e,t,n){"use strict";var i=n("23e7"),o=n("da84"),a=n("d066"),r=n("c430"),s=n("83ab"),c=n("4930"),d=n("fdbf"),l=n("d039"),u=n("5135"),p=n("e8b5"),h=n("861d"),f=n("825a"),v=n("7b0b"),m=n("fc6a"),g=n("c04e"),y=n("5c6c"),b=n("7c73"),S=n("df75"),w=n("241c"),T=n("057f"),E=n("7418"),C=n("06cf"),O=n("9bf2"),k=n("d1e7"),N=n("9112"),R=n("6eeb"),A=n("5692"),_=n("f772"),P=n("d012"),B=n("90e3"),x=n("b622"),I=n("e538"),M=n("746f"),$=n("d44e"),D=n("69f3"),j=n("b727").forEach,L=_("hidden"),F="Symbol",V="prototype",H=x("toPrimitive"),W=D.set,z=D.getterFor(F),K=Object[V],U=o.Symbol,G=a("JSON","stringify"),J=C.f,q=O.f,Y=T.f,Z=k.f,Q=A("symbols"),X=A("op-symbols"),ee=A("string-to-symbol-registry"),te=A("symbol-to-string-registry"),ne=A("wks"),ie=o.QObject,oe=!ie||!ie[V]||!ie[V].findChild,ae=s&&l((function(){return 7!=b(q({},"a",{get:function(){return q(this,"a",{value:7}).a}})).a}))?function(e,t,n){var i=J(K,t);i&&delete K[t],q(e,t,n),i&&e!==K&&q(K,t,i)}:q,re=function(e,t){var n=Q[e]=b(U[V]);return W(n,{type:F,tag:e,description:t}),s||(n.description=t),n},se=d?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof U},ce=function(e,t,n){e===K&&ce(X,t,n),f(e);var i=g(t,!0);return f(n),u(Q,i)?(n.enumerable?(u(e,L)&&e[L][i]&&(e[L][i]=!1),n=b(n,{enumerable:y(0,!1)})):(u(e,L)||q(e,L,y(1,{})),e[L][i]=!0),ae(e,i,n)):q(e,i,n)},de=function(e,t){f(e);var n=m(t),i=S(n).concat(fe(n));return j(i,(function(t){s&&!ue.call(n,t)||ce(e,t,n[t])})),e},le=function(e,t){return void 0===t?b(e):de(b(e),t)},ue=function(e){var t=g(e,!0),n=Z.call(this,t);return!(this===K&&u(Q,t)&&!u(X,t))&&(!(n||!u(this,t)||!u(Q,t)||u(this,L)&&this[L][t])||n)},pe=function(e,t){var n=m(e),i=g(t,!0);if(n!==K||!u(Q,i)||u(X,i)){var o=J(n,i);return!o||!u(Q,i)||u(n,L)&&n[L][i]||(o.enumerable=!0),o}},he=function(e){var t=Y(m(e)),n=[];return j(t,(function(e){u(Q,e)||u(P,e)||n.push(e)})),n},fe=function(e){var t=e===K,n=Y(t?X:m(e)),i=[];return j(n,(function(e){!u(Q,e)||t&&!u(K,e)||i.push(Q[e])})),i};if(c||(U=function(){if(this instanceof U)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=B(e),n=function(e){this===K&&n.call(X,e),u(this,L)&&u(this[L],t)&&(this[L][t]=!1),ae(this,t,y(1,e))};return s&&oe&&ae(K,t,{configurable:!0,set:n}),re(t,e)},R(U[V],"toString",(function(){return z(this).tag})),R(U,"withoutSetter",(function(e){return re(B(e),e)})),k.f=ue,O.f=ce,C.f=pe,w.f=T.f=he,E.f=fe,I.f=function(e){return re(x(e),e)},s&&(q(U[V],"description",{configurable:!0,get:function(){return z(this).description}}),r||R(K,"propertyIsEnumerable",ue,{unsafe:!0}))),i({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:U}),j(S(ne),(function(e){M(e)})),i({target:F,stat:!0,forced:!c},{for:function(e){var t=String(e);if(u(ee,t))return ee[t];var n=U(t);return ee[t]=n,te[n]=t,n},keyFor:function(e){if(!se(e))throw TypeError(e+" is not a symbol");if(u(te,e))return te[e]},useSetter:function(){oe=!0},useSimple:function(){oe=!1}}),i({target:"Object",stat:!0,forced:!c,sham:!s},{create:le,defineProperty:ce,defineProperties:de,getOwnPropertyDescriptor:pe}),i({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:he,getOwnPropertySymbols:fe}),i({target:"Object",stat:!0,forced:l((function(){E.f(1)}))},{getOwnPropertySymbols:function(e){return E.f(v(e))}}),G){var ve=!c||l((function(){var e=U();return"[null]"!=G([e])||"{}"!=G({a:e})||"{}"!=G(Object(e))}));i({target:"JSON",stat:!0,forced:ve},{stringify:function(e,t,n){var i,o=[e],a=1;while(arguments.length>a)o.push(arguments[a++]);if(i=t,(h(t)||void 0!==e)&&!se(e))return p(t)||(t=function(e,t){if("function"==typeof i&&(t=i.call(this,e,t)),!se(t))return t}),o[1]=t,G.apply(null,o)}})}U[V][H]||N(U[V],H,U[V].valueOf),$(U,F),P[L]=!0},b0c0:function(e,t,n){var i=n("83ab"),o=n("9bf2").f,a=Function.prototype,r=a.toString,s=/^\s*function ([^ (]*)/,c="name";!i||c in a||o(a,c,{configurable:!0,get:function(){try{return r.call(this).match(s)[1]}catch(e){return""}}})},b64b:function(e,t,n){var i=n("23e7"),o=n("7b0b"),a=n("df75"),r=n("d039"),s=r((function(){a(1)}));i({target:"Object",stat:!0,forced:s},{keys:function(e){return a(o(e))}})},b680:function(e,t,n){"use strict";var i=n("23e7"),o=n("a691"),a=n("408a"),r=n("1148"),s=n("d039"),c=1..toFixed,d=Math.floor,l=function(e,t,n){return 0===t?n:t%2===1?l(e,t-1,n*e):l(e*e,t/2,n)},u=function(e){var t=0,n=e;while(n>=4096)t+=12,n/=4096;while(n>=2)t+=1,n/=2;return t},p=c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){c.call({})}));i({target:"Number",proto:!0,forced:p},{toFixed:function(e){var t,n,i,s,c=a(this),p=o(e),h=[0,0,0,0,0,0],f="",v="0",m=function(e,t){var n=-1,i=t;while(++n<6)i+=e*h[n],h[n]=i%1e7,i=d(i/1e7)},g=function(e){var t=6,n=0;while(--t>=0)n+=h[t],h[t]=d(n/e),n=n%e*1e7},y=function(){var e=6,t="";while(--e>=0)if(""!==t||0===e||0!==h[e]){var n=String(h[e]);t=""===t?n:t+r.call("0",7-n.length)+n}return t};if(p<0||p>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(f="-",c=-c),c>1e-21)if(t=u(c*l(2,69,1))-69,n=t<0?c*l(2,-t,1):c/l(2,t,1),n*=4503599627370496,t=52-t,t>0){m(0,n),i=p;while(i>=7)m(1e7,0),i-=7;m(l(10,i,1),0),i=t-1;while(i>=23)g(1<<23),i-=23;g(1<<i),m(1,1),g(2),v=y()}else m(0,n),m(1<<-t,0),v=y()+r.call("0",p);return p>0?(s=v.length,v=f+(s<=p?"0."+r.call("0",p-s)+v:v.slice(0,s-p)+"."+v.slice(s-p))):v=f+v,v}})},d28b:function(e,t,n){var i=n("746f");i("iterator")},d4c2:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"height-100",attrs:{id:"receiver"}},[n("ReceiverConnection",{attrs:{roomName:e.roomName},on:{state:e.onConnectionStateChanged,stream:e.onStream,presenceCheckWait:e.onPresenceCheckWait,stats:e.onStats}}),n("div",{staticClass:"menu-bar"},[n("div",{staticClass:"frow row-start"},[e.isStream?n("button",{staticClass:"button-link",attrs:{id:"show-stats-bar"},on:{click:e.showStats}},[e._v("Stats")]):e._e()])]),e.statsVisible?n("div",{staticClass:"shadow-light",attrs:{id:"stats-bar"}},[n("div",{attrs:{id:"hide-stats-bar"},on:{click:e.hideStats}},[n("XSvg")],1),n("div",{attrs:{id:"stats-bar-html"}},[e.stats.video.recv.codecs.length>0?n("div",[e._v(e._s("Video: "+e.stats.video.recv.codecs))]):e._e(),e.stats.video.recv.codecs.length>0?n("div",[e._v(e._s("Resolution: "+e.stats.resolutions.recv.width+"x"+e.stats.resolutions.recv.height))]):e._e(),e.stats.audio.recv.codecs.length>0?n("div",[e._v(e._s("Audio: "+e.stats.audio.recv.codecs))]):e._e(),n("div",[e._v(e._s("Data: "+this.bytesToSize(e.stats.audio.bytesReceived+e.stats.video.bytesReceived)))])])]):e._e(),n("div",{staticClass:"frow centered-column nowrap"},[e.isStream?e._e():n("router-link",{attrs:{id:"create-message",to:"/"}},[n("LoadingSvg",{attrs:{id:"loading-logo"}})],1),e.isStream?n("router-link",{attrs:{to:"/"}},[n("LogoSvg",{attrs:{id:"logo"}})],1):e._e(),n("div",{staticClass:"mt-30 mb-20",attrs:{id:"tab-title",onclick:"document.execCommand('copy')"}}),n("video",{ref:"videoPlayer",staticClass:"shadow-light",class:{"theater-mode":e.theaterMode},attrs:{playsinline:"",hidden:!e.stream.isVideo},on:{click:e.togglePlayback}},[e._v("Your browser does not support the video element.")]),n("audio",{ref:"audioPlayer",attrs:{hidden:!e.stream.isAudio}},[e._v("Your browser does not support the audio element.")]),e.isStream?n("div",{staticClass:"frow nowrap",class:{"justify-between":e.stream.isVideo},attrs:{id:"media-controls"}},[n("div",{staticClass:"frow nowrap"},[e.stream.isAudio||e.stream.isVideo&&!e.isPlaying?n("button",{staticClass:"frow nowrap button-none",attrs:{id:"play-button-container",type:"button"},on:{click:e.togglePlayback}},[e.isPlaying?n("PauseSvg"):n("PlaySvg")],1):e._e(),n("input",{attrs:{id:"volume-slider",type:"range",min:"0",max:"1",step:"0.01"},domProps:{value:e.volume},on:{input:e.setVolume}})]),e.stream.isVideo&&e.isPlaying?n("div",{staticClass:"frow"},[n("button",{staticClass:"button-none mr-20",attrs:{id:"theater-button",type:"button"},on:{click:e.toggleTheaterMode}},[n("TheaterSvg")],1),n("button",{staticClass:"button-none",attrs:{id:"fullscreen-button",type:"button"},on:{click:e.fullscreenVideo}},[n("FullscreenSvg")],1)]):e._e()]):e._e(),e.isStream?e._e():n("div",{attrs:{id:"info-bar"}},[e._v(e._s(e.infoBarMessage))]),e.isStream?e._e():n("router-link",{attrs:{id:"create-message",to:"/streamer"}},[e._v("Create your own room")])],1),e._m(0)],1)},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"chat-container",hidden:""}},[n("div",{attrs:{id:"chat-messages"}}),n("input",{attrs:{id:"txt-chat-message",type:"text",placeholder:"Enter Chat Message",hidden:""}})])}],a=(n("99af"),n("b0c0"),n("ac1f"),n("5319"),n("498a"),n("96cf"),n("1da1")),r={functional:!0,render(e,t){const{_c:n,_v:i,data:o,children:a=[]}=t,{class:r,staticClass:s,style:c,staticStyle:d,attrs:l={},...u}=o;return n("svg",{class:[r,s],style:[c,d],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},l),...u},a.concat([n("path",{attrs:{d:"M24 20.188l-8.315-8.209 8.2-8.282L20.188 0l-8.212 8.318L3.666.115 0 3.781l8.321 8.24-8.206 8.313L3.781 24l8.237-8.318 8.285 8.203z"}})]))}},s={functional:!0,render(e,t){const{_c:n,_v:i,data:o,children:a=[]}=t,{class:r,staticClass:s,style:c,staticStyle:d,attrs:l={},...u}=o;return n("svg",{class:[r,s],style:[c,d],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 92 53"},l),...u},a.concat([n("g",{attrs:{"clip-path":"url(#_clipPath_DBKJNQ6ncz1fVktbefDVInZnlBu8kyHj)"}},[n("path",{attrs:{d:"M2.6 17.5c.6-3.7 1.6-6.7 3.2-8.7 1.4-2.1 3.6-3.7 6.3-4.9 2.7-1.1 6.5-1.7 11.3-1.7 5 0 8.9.6 11.6 1.6 2.9 1.1 5.1 2.7 6.6 5 1.6 2.2 2.5 4.6 2.5 7.5 0 2.8-.9 5.7-2.8 8.3-1.8 2.7-5.1 5.6-10 8.9-2.9 1.8-4.7 3.1-5.7 3.8-1 .7-2.2 1.7-3.5 2.9h23.3V1.9c4.3.6 8.4 2 12.1 4.6q2.9 1.9 9.6 9.2c1.2 1.4 2.5 3 3.8 4.9 2 3 3.4 5 4.3 5.8.8 1 1.8 2.3 3.1 3.6V1.9h12.1v49.2c-4.5-.4-8.5-2-12.4-4.6-2.7-1.9-6-4.9-9.4-9.2-1.3-1.4-2.5-3-3.8-4.9-2.1-3-6.3-8-7.5-9.4v28.1H1.6c.5-3.9 2-7.6 4.5-11.2 2.4-3.4 7.2-7.6 14-12.3 4.2-2.9 6.9-5.2 8.1-6.6 1.1-1.6 1.7-3 1.7-4.3 0-1.5-.6-2.7-1.7-3.7-1.2-1.2-2.6-1.6-4.5-1.6-1.7 0-3.3.6-4.4 1.6-1.2 1.1-1.7 1.8-2.2 4.5H2.6z",fill:"none","vector-effect":"non-scaling-stroke"}})])]))}},c=n("8923"),d={functional:!0,render(e,t){const{_c:n,_v:i,data:o,children:a=[]}=t,{class:r,staticClass:s,style:c,staticStyle:d,attrs:l={},...u}=o;return n("svg",{class:[r,s],style:[c,d],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},l),...u},a.concat([n("path",{attrs:{d:"M3 22V2l18 10L3 22z"}})]))}},l={functional:!0,render(e,t){const{_c:n,_v:i,data:o,children:a=[]}=t,{class:r,staticClass:s,style:c,staticStyle:d,attrs:l={},...u}=o;return n("svg",{class:[r,s],style:[c,d],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 357 357"},l),...u},a.concat([n("path",{attrs:{d:"M25.5 357h102V0h-102v357zm204-357v357h102V0h-102z"}})]))}},u={functional:!0,render(e,t){const{_c:n,_v:i,data:o,children:a=[]}=t,{class:r,staticClass:s,style:c,staticStyle:d,attrs:l={},...u}=o;return n("svg",{class:[r,s],style:[c,d],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},l),...u},a.concat([n("path",{attrs:{d:"M24 9h-2V5h-4V3h6v6zm-6 12v-2h4v-4h2v6h-6zM0 15h2v4h4v2H0v-6zM6 3v2H2v4H0V3h6z"}})]))}},p={functional:!0,render(e,t){const{_c:n,_v:i,data:o,children:a=[]}=t,{class:r,staticClass:s,style:c,staticStyle:d,attrs:l={},...u}=o;return n("svg",{class:[r,s],style:[c,d],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},l),...u},a.concat([n("path",{attrs:{d:"M24 13h-4V4h-9V0h13v13zM0 24h13v-4H4v-9H0v13z"}})]))}},h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},f=[],v=(n("a15b"),n("841c"),n("d093"),n("cd68")),m=n.n(v);n("4160"),n("c975"),n("b680"),n("b64b"),n("d3b7"),n("25f0"),n("1276"),n("159b"),n("a4d3"),n("e01a"),n("d28b"),n("e260"),n("3ca3"),n("ddb0");function g(e){return g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function y(e,t,n){var i=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection;"undefined"===typeof MediaStreamTrack&&(MediaStreamTrack={});var o=((navigator.connection||{}).type||"unknown").toString().toLowerCase(),a={encryption:"sha-256",audio:{send:{tracks:[],codecs:[],availableBandwidth:0,streams:0},recv:{tracks:[],codecs:[],availableBandwidth:0,streams:0},bytesSent:0,bytesReceived:0},video:{send:{tracks:[],codecs:[],availableBandwidth:0,streams:0},recv:{tracks:[],codecs:[],availableBandwidth:0,streams:0},bytesSent:0,bytesReceived:0},bandwidth:{systemBandwidth:0,sentPerSecond:0,encodedPerSecond:0,helper:{audioBytesSent:0,videoBytestSent:0},speed:0},results:{},connectionType:{systemNetworkType:o,systemIpAddress:"192.168.1.2",local:{candidateType:[],transport:[],ipAddress:[],networkType:[]},remote:{candidateType:[],transport:[],ipAddress:[],networkType:[]}},resolutions:{send:{width:0,height:0},recv:{width:0,height:0}},internal:{audio:{send:{},recv:{}},video:{send:{},recv:{}},candidates:{}},nomore:function(){c=!0}},r={checkIfOfferer:function(e){"googLibjingleSession"===e.type&&(a.isOfferer=e.googInitiator)}},s=this;if(arguments[0]instanceof i){if(s=arguments[0],navigator.mozGetUserMedia&&(e=arguments[1],t=arguments[2],n=arguments[3]),!(e instanceof MediaStreamTrack)&&navigator.mozGetUserMedia)throw"2nd argument is not instance of MediaStreamTrack."}else if(!(e instanceof MediaStreamTrack)&&navigator.mozGetUserMedia)throw"1st argument is not instance of MediaStreamTrack.";var c=!1;function d(){l((function(e){e.forEach((function(e){Object.keys(r).forEach((function(t){"function"===typeof r[t]&&r[t](e)})),"local-candidate"!==e.type&&"remote-candidate"!==e.type&&e.type}));try{-1!==s.iceConnectionState.search(/failed/gi)&&(c=!0)}catch(i){c=!0}!0===c&&(a.datachannel&&(a.datachannel.state="close"),a.ended=!0),a.results=e,a.audio&&a.video&&(a.bandwidth.speed=a.audio.bytesSent-a.bandwidth.helper.audioBytesSent+(a.video.bytesSent-a.bandwidth.helper.videoBytesSent),a.bandwidth.helper.audioBytesSent=a.audio.bytesSent,a.bandwidth.helper.videoBytesSent=a.video.bytesSent),t(a),c||void 0!=g(n)&&n&&setTimeout(d,n||1e3)}))}function l(t){"undefined"!==typeof window.InstallTrigger?s.getStats(e,(function(e){var n=[];e.forEach((function(e){n.push(e)})),t(n)}),t):s.getStats((function(e){var n=[];e.result().forEach((function(e){var t={};e.names().forEach((function(n){t[n]=e.stat(n)})),t.id=e.id,t.type=e.type,t.timestamp=e.timestamp,n.push(t)})),t(n)}))}r.datachannel=function(e){"datachannel"===e.type&&(a.datachannel={state:e.state})},r.googCertificate=function(e){"googCertificate"==e.type&&(a.encryption=e.googFingerprintAlgorithm)};var u=["opus","isac","ilbc"];r.checkAudioTracks=function(e){if(e.googCodecName&&"audio"===e.mediaType&&-1!==u.indexOf(e.googCodecName.toLowerCase())){var t,n,i=e.id.split("_").pop();-1===a.audio[i].codecs.indexOf(e.googCodecName)&&a.audio[i].codecs.push(e.googCodecName),e.bytesSent&&(t=0,e.bytesSent&&(a.internal.audio[i].prevBytesSent||(a.internal.audio[i].prevBytesSent=e.bytesSent),n=e.bytesSent-a.internal.audio[i].prevBytesSent,a.internal.audio[i].prevBytesSent=e.bytesSent,t=n/1024),a.audio[i].availableBandwidth=t.toFixed(1)),e.bytesReceived&&(t=0,e.bytesReceived&&(a.internal.audio[i].prevBytesReceived||(a.internal.audio[i].prevBytesReceived=e.bytesReceived),n=e.bytesReceived-a.internal.audio[i].prevBytesReceived,a.internal.audio[i].prevBytesReceived=e.bytesReceived,t=n/1024),a.audio[i].availableBandwidth=t.toFixed(1)),-1===a.audio[i].tracks.indexOf(e.googTrackId)&&a.audio[i].tracks.push(e.googTrackId)}};var p=["vp9","vp8","h264"];r.checkVideoTracks=function(e){if(e.googCodecName&&"video"===e.mediaType&&-1!==p.indexOf(e.googCodecName.toLowerCase())){var t,n,i=e.id.split("_").pop();-1===a.video[i].codecs.indexOf(e.googCodecName)&&a.video[i].codecs.push(e.googCodecName),e.bytesSent&&(t=0,a.internal.video[i].prevBytesSent||(a.internal.video[i].prevBytesSent=e.bytesSent),n=e.bytesSent-a.internal.video[i].prevBytesSent,a.internal.video[i].prevBytesSent=e.bytesSent,t=n/1024),e.bytesReceived&&(t=0,a.internal.video[i].prevBytesReceived||(a.internal.video[i].prevBytesReceived=e.bytesReceived),n=e.bytesReceived-a.internal.video[i].prevBytesReceived,a.internal.video[i].prevBytesReceived=e.bytesReceived,t=n/1024),a.video[i].availableBandwidth=t.toFixed(1),e.googFrameHeightReceived&&e.googFrameWidthReceived&&(a.resolutions[i].width=e.googFrameWidthReceived,a.resolutions[i].height=e.googFrameHeightReceived),e.googFrameHeightSent&&e.googFrameWidthSent&&(a.resolutions[i].width=e.googFrameWidthSent,a.resolutions[i].height=e.googFrameHeightSent),-1===a.video[i].tracks.indexOf(e.googTrackId)&&a.video[i].tracks.push(e.googTrackId)}},r.bweforvideo=function(e){"VideoBwe"===e.type&&(a.bandwidth.availableSendBandwidth=e.googAvailableSendBandwidth,a.bandwidth.googActualEncBitrate=e.googActualEncBitrate,a.bandwidth.googAvailableSendBandwidth=e.googAvailableSendBandwidth,a.bandwidth.googAvailableReceiveBandwidth=e.googAvailableReceiveBandwidth,a.bandwidth.googRetransmitBitrate=e.googRetransmitBitrate,a.bandwidth.googTargetEncBitrate=e.googTargetEncBitrate,a.bandwidth.googBucketDelay=e.googBucketDelay,a.bandwidth.googTransmitBitrate=e.googTransmitBitrate)},r.candidatePair=function(e){var t,n;"googCandidatePair"!==e.type&&"candidate-pair"!==e.type||("true"==e.googActiveConnection&&(Object.keys(a.internal.candidates).forEach((function(t){var n=a.internal.candidates[t];-1!==n.ipAddress.indexOf(e.googLocalAddress)&&(a.connectionType.local.candidateType=n.candidateType,a.connectionType.local.ipAddress=n.ipAddress,a.connectionType.local.networkType=n.networkType,a.connectionType.local.transport=n.transport),-1!==n.ipAddress.indexOf(e.googRemoteAddress)&&(a.connectionType.remote.candidateType=n.candidateType,a.connectionType.remote.ipAddress=n.ipAddress,a.connectionType.remote.networkType=n.networkType,a.connectionType.remote.transport=n.transport)})),a.connectionType.transport=e.googTransportType,t=a.internal.candidates[e.localCandidateId],t&&t.ipAddress&&(a.connectionType.systemIpAddress=t.ipAddress),n=a.internal.candidates[e.remoteCandidateId],n&&n.ipAddress&&(a.connectionType.systemIpAddress=n.ipAddress)),"candidate-pair"===e.type&&!0===e.selected&&!0===e.nominated&&"succeeded"===e.state&&(t=a.internal.candidates[e.remoteCandidateId],n=a.internal.candidates[e.remoteCandidateId]))};var h={},f={},v={},m={};r.localcandidate=function(e){"localcandidate"!==e.type&&"local-candidate"!==e.type||e.id&&(h[e.id]||(h[e.id]=[]),f[e.id]||(f[e.id]=[]),v[e.id]||(v[e.id]=[]),m[e.id]||(m[e.id]=[]),e.candidateType&&-1===h[e.id].indexOf(e.candidateType)&&h[e.id].push(e.candidateType),e.transport&&-1===f[e.id].indexOf(e.transport)&&f[e.id].push(e.transport),e.ipAddress&&-1===v[e.id].indexOf(e.ipAddress+":"+e.portNumber)&&v[e.id].push(e.ipAddress+":"+e.portNumber),e.networkType&&-1===m[e.id].indexOf(e.networkType)&&m[e.id].push(e.networkType),a.internal.candidates[e.id]={candidateType:h[e.id],ipAddress:v[e.id],portNumber:e.portNumber,networkType:m[e.id],priority:e.priority,transport:f[e.id],timestamp:e.timestamp,id:e.id,type:e.type},a.connectionType.local.candidateType=h[e.id],a.connectionType.local.ipAddress=v[e.id],a.connectionType.local.networkType=m[e.id],a.connectionType.local.transport=f[e.id])};var y={},b={},S={},w={};r.remotecandidate=function(e){"remotecandidate"!==e.type&&"remote-candidate"!==e.type||e.id&&(y[e.id]||(y[e.id]=[]),b[e.id]||(b[e.id]=[]),S[e.id]||(S[e.id]=[]),w[e.id]||(w[e.id]=[]),e.candidateType&&-1===y[e.id].indexOf(e.candidateType)&&y[e.id].push(e.candidateType),e.transport&&-1===b[e.id].indexOf(e.transport)&&b[e.id].push(e.transport),e.ipAddress&&-1===S[e.id].indexOf(e.ipAddress+":"+e.portNumber)&&S[e.id].push(e.ipAddress+":"+e.portNumber),e.networkType&&-1===w[e.id].indexOf(e.networkType)&&w[e.id].push(e.networkType),a.internal.candidates[e.id]={candidateType:y[e.id],ipAddress:S[e.id],portNumber:e.portNumber,networkType:w[e.id],priority:e.priority,transport:b[e.id],timestamp:e.timestamp,id:e.id,type:e.type},a.connectionType.remote.candidateType=y[e.id],a.connectionType.remote.ipAddress=S[e.id],a.connectionType.remote.networkType=w[e.id],a.connectionType.remote.transport=b[e.id])},r.dataSentReceived=function(e){!e.googCodecName||"video"!==e.mediaType&&"audio"!==e.mediaType||(e.bytesSent&&(a[e.mediaType].bytesSent=parseInt(e.bytesSent)),e.bytesReceived&&(a[e.mediaType].bytesReceived=parseInt(e.bytesReceived)))};var T={audio:{send:[],recv:[]},video:{send:[],recv:[]}};r.ssrc=function(e){if(e.googCodecName&&("video"===e.mediaType||"audio"===e.mediaType)&&"ssrc"===e.type){var t=e.id.split("_").pop();-1===T[e.mediaType][t].indexOf(e.ssrc)&&T[e.mediaType][t].push(e.ssrc),a[e.mediaType][t].streams=T[e.mediaType][t].length}},d()}window.getStats=y;var b=n("3da5"),S=n("e854"),w={NOT_HOSTED:"NOT_HOSTED",JOINING:"JOINING",UNAUTHORIZED:"UNAUTHORIZED",UNAVAILABLE:"UNAVAILABLE",PEER_WILL_SEND:"PEER_WILL_SEND",SOCKET_CLOSED:"SOCKET_CLOSED",SOCKET_DISCONNECT:"SOCKET_DISCONNECT",SOCKET_ERROR:"SOCKET_ERROR",HAVE_OFFER:"HAVE_OFFER",HANDSHAKE_COMPLETE:"HANDSHAKE_COMPLETE",CONNECTED:"CONNECTED",DISCONNECTED:"DISCONNECTED",GENERIC:"GENERIC"},T={name:"ReceiverConnection",STATE:w,props:{roomName:{type:String,default:""}},data:function(){return{params:{},connection:null,presenceCheckWait:3750}},watch:{presenceCheckWait:function(e){this.$emit("presenceCheckWait",e)}},mounted:function(){var e=this;this.params=C(),this.connection=new m.a(this.roomName),this.connection.socketURL="https://api.2n.fm:9001/",this.connection.autoCloseEntireSession=!0,this.connection.socketMessageEvent="desktopCapture",this.connection.enableLogs=!0,this.connection.session={audio:!0,video:!0,data:!0,oneway:!0},this.connection.sdpConstraints.mandatory={OfferToReceiveAudio:!0,OfferToReceiveVideo:!0},this.connection.candidates={stun:!0,turn:!0},this.connection.iceTransportPolicy="relay",this.connection.getExternalIceServers=!1,this.connection.iceServers=S["a"].getIceServers(),this.connection.processSdp=function(t){var n=e.params.bandwidth,i=e.params.codecs;if(n){try{n=parseInt(n)}catch(o){n=null}n&&!isNaN(n)&&"NaN"!=n&&"number"==typeof n&&(t=E(t,n),t=b["a"].setVideoBitrates(t,{min:n,max:n}))}return i&&"default"!==i&&(t=b["a"].preferCodec(t,i)),t},this.connection.optionalArgument={optional:[],mandatory:{}},this.connection.onstatechange=function(t){if("request-rejected"==t.name&&e.params.p)e.$emit("state",{value:w.UNAUTHORIZED});else if("room-not-available"===t.name)e.$emit("state",{value:w.UNAVAILABLE});else{var n=t.name,i=t.reason;e.$emit("state",{value:w.GENERIC,name:n,reason:i})}},this.connection.onstreamid=function(){e.$emit("state",{value:w.PEER_WILL_SEND})},this.connection.onstream=function(t){e.$emit("stream",t.stream)},this.connection.onleave=function(t){t.userid===e.roomName&&(e.connection.close(),e.connection.closeSocket(),e.connection.userid=e.connection.token(),e.$emit("state",{value:w.SOCKET_CLOSED}))},this.connection.onJoinWithPassword=function(t){e.params.p||(e.params.p=prompt(t+" is password protected. Please enter the pasword:")),e.connection.password=e.params.p,e.connection.join(t)},this.connection.onstreamended=this.connection.onSessionClosed=this.connection.onleave,this.connection.onInvalidPassword=function(t,n){var i=prompt(t+" is password protected. Your entered wrong password ("+n+"). Please enter valid pasword:");e.connection.password=i,e.connection.join(t)},this.connection.onPasswordMaxTriesOver=function(e){alert(e+" is password protected. Your max password tries exceeded the limit.")},this.connection.onSocketDisconnect=function(){e.connection.getAllParticipants().length>0||e.$emit("state",{value:w.SOCKET_DISCONNECT})},this.connection.onSocketError=function(){e.$emit("state",{value:w.SOCKET_ERROR})},this.connection.onopen=function(){},this.connection.socketCustomEvent=this.roomName,console.log("[Connection mounted]: roomName check:",this.roomName),this.roomName&&this.checkPresence();var t={};this.connection.onPeerStateChanged=function(n){if(e.connection.getRemoteStreams(e.roomName).length||("have-remote-offer"===n.signalingState?e.$emit("state",{value:w.HAVE_OFFER}):"complete"===n.iceGatheringState&&"connected"===n.iceConnectionState&&e.$emit("state",{value:w.HANDSHAKE_COMPLETE})),"connected"===n.iceConnectionState&&"stable"===n.signalingState){if(t[n.userid])return;t[n.userid]=!0,e.$emit("state",{value:w.CONNECTED}),y(e.connection.peers[n.userid].peer,(function(t){e.onGettingWebRTCStats(t,n.userid)}),1e3)}else"disconnected"===n.iceConnectionState&&e.$emit("state",{value:w.DISCONNECTED})}},methods:{checkPresence:function(){var e=this;this.connection.checkPresence(this.roomName,(function(t,n,i){if(!1===t)return e.presenceCheckWait<6e4&&(e.presenceCheckWait=2*e.presenceCheckWait),setTimeout((function(){return e.$emit("state",{value:w.NOT_HOSTED})}),0),void setTimeout((function(){return e.checkPresence()}),e.presenceCheckWait);e.$emit("state",{value:w.JOINING}),e.connection.password=null,e.params.p&&(e.connection.password=e.params.p),e.connection.join(e.roomName)}))},onGettingWebRTCStats:function(e,t){this.connection.peers[t]?this.$emit("stats",e):e.nomore()}}};function E(e){return e=e.replace(/b=AS([^\r\n]+\r\n)/g,""),e=e.replace(/a=mid:video\r\n/g,"a=mid:video\r\nb=AS:10000\r\n"),e}function C(){var e,t,n;function i(e){return decodeURIComponent(e.replace(/\+/g," "))}n={},e=/([^&=]+)=?([^&]*)/g,t={bandwidth:8192};var o,a=window.location.search;while(o=e.exec(a.substring(1)))n[i(o[1])]=i(o[2]);return Object.assign({},t,n)}var O=T,k=n("2877"),N=Object(k["a"])(O,h,f,!1,null,null,null),R=N.exports,A={name:"Receiver",components:{XSvg:r,LoadingSvg:s,LogoSvg:c["a"],PlaySvg:d,PauseSvg:l,FullscreenSvg:u,TheaterSvg:p,ReceiverConnection:R},data:function(){return{roomName:this.$route.params.room,stream:{},isStream:!1,isPlaying:!1,theaterMode:!1,statsVisible:!1,volume:window.localStorage.getItem("volume")||.5,NO_MORE:!1,stats:{},infoBarMessage:"",presenceCheckWait:null}},computed:{player:function(){return this.stream.isVideo?this.$refs.videoPlayer:this.stream.isAudio?this.$refs.audioPlayer:null}},created:function(){var e=this.$route.params.room.trim().replace(/\s+/g,"-").replace(/[^a-zA-Z0-9-_]/g,"").toLowerCase();this.$route.params.room!==e&&this.$router.push(e)},mounted:function(){var e=this;window.addEventListener("offline",(function(){e.infoBarMessage="You seem to be offline."}),!1),window.addEventListener("online",(function(){e.infoBarMessage="You are back online. Reloading the page...",location.reload()}),!1)},methods:{onConnectionStateChanged:function(e){switch(e.value){case R.STATE.NOT_HOSTED:this.infoBarMessage="Room: ".concat(this.roomName," isn't hosted yet.\n            Checking again ").concat(6e4===this.presenceCheckWait?"every":"in","\n            ").concat(this.presenceCheckWait/1e3," seconds.");break;case R.STATE.JOINING:this.infoBarMessage="Joining room: ".concat(this.roomName);break;case R.STATE.UNAUTHORIZED:this.infoBarMessage="Incorrect password";break;case R.STATE.UNAVAILABLE:this.infoBarMessage="\n          Screen share session is closed or paused.\n          You will join automatically when share session is resumed.\n        ";break;case R.STATE.PEER_WILL_SEND:this.infoBarMessage="Remote peer is about to send his screen.";break;case R.STATE.SOCKET_CLOSED:this.$refs.videoPlayer.srcObject=null,this.infoBarMessage="Screen sharing has been closed.",this.hideStats(),location.reload();break;case R.STATE.SOCKET_DISCONNECT:this.isStream=!1,location.reload();break;case R.STATE.SOCKET_ERROR:alert("Unable to connect to the server. Please try again."),setTimeout((function(){location.reload()}),1e3);break;case R.STATE.HAVE_OFFER:this.infoBarMessage="Received WebRTC offer from: ".concat(this.roomName);break;case R.STATE.HANDSHAKE_COMPLETE:this.infoBarMessage="\n          WebRTC handshake is completed.\n          Waiting for remote video from: ".concat(this.roomName,"\n        ");break;case R.STATE.CONNECTED:this.isStream=!0;break;case R.STATE.DISCONNECTED:this.isStream=!1,this.infoBarMessage="You've been disconnected. Please try again.";break;case R.STATE.GENERIC:this.infoBarMessage="".concat(e.name,": ").concat(e.reason);break}},onStream:function(e){this.$refs.videoPlayer.srcObject=null,this.$refs.audioPlayer.srcObject=null,this.stream=e,this.stream.mute(),this.stream.isVideo?(this.$refs.videoPlayer.srcObject=this.stream,this.$refs.videoPlayer.srcObject.getVideoTracks()[0].enabled=!0,this.$refs.videoPlayer.srcObject.getAudioTracks().length&&(this.$refs.videoPlayer.srcObject.getAudioTracks()[0].enabled=!0),this.$refs.videoPlayer.volume=this.volume):(this.$refs.audioPlayer.srcObject=this.stream,this.$refs.audioPlayer.srcObject.getAudioTracks()[0].enabled=!0,this.$refs.audioPlayer.volume=this.volume),this.playMedia()},onPresenceCheckWait:function(e){this.presenceCheckWait=e},onStats:function(e){this.NO_MORE?e.nomore():this.stats=e},playMedia:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.player.play();case 3:e.isPlaying=!0,t.next=8;break;case 6:t.prev=6,t.t0=t["catch"](0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})))()},togglePlayback:function(){this.player.paused?this.playMedia():(this.player.pause(),this.isPlaying=!1)},setVolume:function(e){this.$refs.audioPlayer.volume=e.srcElement.valueAsNumber,this.$refs.videoPlayer.volume=e.srcElement.valueAsNumber,this.volume=e.srcElement.valueAsNumber,localStorage.setItem("volume",e.srcElement.valueAsNumber)},fullscreenVideo:function(){this.$refs.videoPlayer.requestFullscreen?this.$refs.videoPlayer.requestFullscreen():this.$refs.videoPlayer.mozRequestFullScreen?this.$refs.videoPlayer.mozRequestFullScreen():this.$refs.videoPlayer.webkitRequestFullScreen?this.$refs.videoPlayer.webkitRequestFullScreen():this.$refs.videoPlayer.msRequestFullscreen&&this.$refs.videoPlayer.msRequestFullscreen()},toggleTheaterMode:function(){this.theaterMode=!this.theaterMode},showStats:function(){this.statsVisible=!0,this.NO_MORE=!1},hideStats:function(){this.statsVisible=!1,this.NO_MORE=!0},bytesToSize:function(e){var t=1e3,n=["Bytes","KB","MB","GB","TB"];if(0===e)return"0 Bytes";var i=parseInt(Math.floor(Math.log(e)/Math.log(t)),10);return"".concat((e/Math.pow(t,i)).toPrecision(3)," ").concat(n[i])}}},_=A,P=(n("88f6"),Object(k["a"])(_,i,o,!1,null,"24704411",null));t["default"]=P.exports},ddb0:function(e,t,n){var i=n("da84"),o=n("fdbc"),a=n("e260"),r=n("9112"),s=n("b622"),c=s("iterator"),d=s("toStringTag"),l=a.values;for(var u in o){var p=i[u],h=p&&p.prototype;if(h){if(h[c]!==l)try{r(h,c,l)}catch(v){h[c]=l}if(h[d]||r(h,d,u),o[u])for(var f in a)if(h[f]!==a[f])try{r(h,f,a[f])}catch(v){h[f]=a[f]}}}},e01a:function(e,t,n){"use strict";var i=n("23e7"),o=n("83ab"),a=n("da84"),r=n("5135"),s=n("861d"),c=n("9bf2").f,d=n("e893"),l=a.Symbol;if(o&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var u={},p=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof p?new l(e):void 0===e?l():l(e);return""===e&&(u[t]=!0),t};d(p,l);var h=p.prototype=l.prototype;h.constructor=p;var f=h.toString,v="Symbol(test)"==String(l("test")),m=/^Symbol\((.*)\)[^)]+$/;c(h,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=f.call(e);if(r(u,e))return"";var n=v?t.slice(7,-1):t.replace(m,"$1");return""===n?void 0:n}}),i({global:!0,forced:!0},{Symbol:p})}},e538:function(e,t,n){var i=n("b622");t.f=i}}]);
//# sourceMappingURL=receiver.3bcfeaf2.js.map